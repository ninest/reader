{"version":3,"sources":["scripts/article.js"],"names":["$title","document","querySelector","$domain","$author","$datePublished","$content","$originalLink","articleUrl","location","href","split","fetchArticle","url","escapedArticleUrl","replace","Promise","resolve","reject","fetch","then","response","json","console","log","setContent","articleJson","innerText","title","innerHTML","content","domain","author","Date","date_published","style","height"],"mappings":";AACA,IAAIA,EAASC,SAASC,cAAc,UAChCC,EAAUF,SAASC,cAAc,WACjCE,EAAUH,SAASC,cAAc,WACjCG,EAAiBJ,SAASC,cAAc,mBACxCI,EAAWL,SAASC,cAAc,YAClCK,EAAgBN,SAASC,cAAc,aAEvCM,EAAaP,SAASQ,SAASC,KAAKC,MAAM,KAAK,GAUnD,eAAeC,EAAaC,GAEtBC,IAAAA,EAAoBD,EAAIE,QAAQ,MAAO,KAEpC,OAAA,IAAIC,QAAQ,CAACC,EAASC,KAC3BC,MAAM,gBAAkBL,GACvBM,KAAMC,GACEA,EAASC,QAEjBF,KAAME,IACLC,QAAQC,IAAI,oBACZD,QAAQC,IAAIF,GACZL,EAAQK,OAId,SAASG,EAAWC,GAClB1B,EAAO2B,UAAYD,EAAYE,MAC/BtB,EAASuB,UAAYH,EAAYI,QAEjC3B,EAAQwB,UAAYD,EAAYK,OAChC3B,EAAQuB,UAAYD,EAAYM,OAErB,IAAIC,KAAKzB,EAAW0B,gBAC/B7B,EAAesB,UAAYD,EAAYQ,eAGvC5B,EAAS6B,MAAMC,OAAS,QAlC1B7B,EAAcG,KAAOF,EAErBI,EAAaJ,GAAYY,KAAMC,IAC7BI,EAAWJ","file":"article.8bc9ef89.js","sourceRoot":"../src","sourcesContent":["\nlet $title = document.querySelector('#title')\nlet $domain = document.querySelector('#domain')\nlet $author = document.querySelector('#author')\nlet $datePublished = document.querySelector('#date_published')\nlet $content = document.querySelector('#content')\nlet $originalLink = document.querySelector('#original')\n\nlet articleUrl = document.location.href.split('#')[1]\n\n// link to original article\n$originalLink.href = articleUrl\n\nfetchArticle(articleUrl).then((response) => {\n  setContent(response)\n}) \n\n// functions\nasync function fetchArticle(url) {\n  // replaceing / with $$\n  let escapedArticleUrl = url.replace(/\\//g, \"\\$\")\n\n  return new Promise((resolve, reject) => {\n    fetch('/api/content/' + escapedArticleUrl)\n    .then((response) => {\n      return response.json()\n    })\n    .then((json) => {\n      console.log('JSON in function')\n      console.log(json)\n      resolve(json)\n    })\n  })\n}\nfunction setContent(articleJson) {\n  $title.innerText = articleJson.title\n  $content.innerHTML = articleJson.content\n\n  $domain.innerText = articleJson.domain\n  $author.innerText = articleJson.author\n\n  let date = new Date(articleUrl.date_published)\n  $datePublished.innerText = articleJson.date_published\n\n  // make css normal\n  $content.style.height = 'unset'\n}"]}