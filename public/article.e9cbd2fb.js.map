{"version":3,"sources":["scripts/article.js"],"names":["$title","document","querySelector","$domain","$author","$datePublished","$content","$originalLink","articleUrl","location","href","split","monthNames","fetchArticle","url","escapedArticleUrl","replace","Promise","resolve","reject","fetch","then","response","json","console","log","setContent","articleJson","innerText","title","innerHTML","content","domain","author","date","Date","date_published","getDate","getMonth","getFullYear","style","height"],"mappings":";AACA,IAAIA,EAASC,SAASC,cAAc,UAChCC,EAAUF,SAASC,cAAc,WACjCE,EAAUH,SAASC,cAAc,WACjCG,EAAiBJ,SAASC,cAAc,mBACxCI,EAAWL,SAASC,cAAc,YAClCK,EAAgBN,SAASC,cAAc,aAEvCM,EAAaP,SAASQ,SAASC,KAAKC,MAAM,KAAK,GAEnD,MAAMC,EAAa,CAAC,UAAW,WAAY,QAAS,QAAS,MAAO,OAAQ,OAAQ,SAAU,YAAa,UAAW,WAAY,YAUlI,eAAeC,EAAaC,GAEtBC,IAAAA,EAAoBD,EAAIE,QAAQ,MAAO,KAEpC,OAAA,IAAIC,QAAQ,CAACC,EAASC,KAC3BC,MAAM,gBAAkBL,GACvBM,KAAMC,GACEA,EAASC,QAEjBF,KAAME,IACLC,QAAQC,IAAI,oBACZD,QAAQC,IAAIF,GACZL,EAAQK,OAId,SAASG,EAAWC,GAClB3B,EAAO4B,UAAYD,EAAYE,MAC/BvB,EAASwB,UAAYH,EAAYI,QAEjC5B,EAAQyB,UAAYD,EAAYK,OAChC5B,EAAQwB,UAAYD,EAAYM,OAE5BC,IAAAA,EAAO,IAAIC,KAAKR,EAAYS,gBAChCZ,QAAQC,IAAIjB,EAAW4B,gBACvBZ,QAAQC,IAAIS,GACZV,QAAQC,IAAIS,EAAKG,WACjBhC,EAAeuB,aAAeM,EAAKG,aAAazB,EAAWsB,EAAKI,gBAAgBJ,EAAKK,gBAGrFjC,EAASkC,MAAMC,OAAS,QArC1BlC,EAAcG,KAAOF,EAErBK,EAAaL,GAAYa,KAAMC,IAC7BI,EAAWJ","file":"article.e9cbd2fb.js","sourceRoot":"../src","sourcesContent":["\nlet $title = document.querySelector('#title')\nlet $domain = document.querySelector('#domain')\nlet $author = document.querySelector('#author')\nlet $datePublished = document.querySelector('#date_published')\nlet $content = document.querySelector('#content')\nlet $originalLink = document.querySelector('#original')\n\nlet articleUrl = document.location.href.split('#')[1]\n\nconst monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n\n// link to original article\n$originalLink.href = articleUrl\n\nfetchArticle(articleUrl).then((response) => {\n  setContent(response)\n}) \n\n// functions\nasync function fetchArticle(url) {\n  // replaceing / with $$\n  let escapedArticleUrl = url.replace(/\\//g, \"\\$\")\n\n  return new Promise((resolve, reject) => {\n    fetch('/api/content/' + escapedArticleUrl)\n    .then((response) => {\n      return response.json()\n    })\n    .then((json) => {\n      console.log('JSON in function')\n      console.log(json)\n      resolve(json)\n    })\n  })\n}\nfunction setContent(articleJson) {\n  $title.innerText = articleJson.title\n  $content.innerHTML = articleJson.content\n\n  $domain.innerText = articleJson.domain\n  $author.innerText = articleJson.author\n\n  let date = new Date(articleJson.date_published)\n  console.log(articleUrl.date_published)\n  console.log(date)\n  console.log(date.getDate())\n  $datePublished.innerText = `${date.getDate()} ${monthNames[date.getMonth()]}, ${date.getFullYear()}`\n\n  // make css normal\n  $content.style.height = 'unset'\n}"]}